<!-- Nav lateral -->
<section class="full-box nav-lateral">
    <div class="full-box nav-lateral-bg show-nav-lateral"></div>
    <div class="full-box nav-lateral-content">
        <figure class="full-box nav-lateral-avatar">
            @if(identity) {
                <i class="far fa-times-circle show-nav-lateral"></i>
                <img [src]="identity.usr_image" class="img-fluid" alt="Avatar">
                <figcaption class="roboto-medium text-center">
                    {{identity.usr_nick}} <br><small class="roboto-condensed-light">{{identity.usr_name}} {{identity.usr_surname}}</small>
                </figcaption>
            }
        </figure>
        <div class="full-box nav-lateral-bar"></div>
        @if(selectedCompany) {
            <nav class="full-box nav-lateral-menu">
                <ul>
                    @for(item of filteredNavigation; track item.name) {
                        <li>
    
                            <a [routerLink]="item.url"
                                class="nav-btn-submenu"
                                (click)="$event.preventDefault(); toggleSubMenu(item)"
                                [class.active]="item.hasSubmenu && item.isOpen">
    
                                <i class="{{ item.icon }}"></i>
                                &nbsp; {{ item.name }}
                                <i class="fas fa-chevron-down"
                                    *ngIf="item.hasSubmenu"
                                    [class.fa-rotate-180]="item.isOpen">
                                </i>
                            </a>
    
                            @if(item.hasSubmenu) {
                                <ul [class.show-nav-lateral-submenu]="item.isOpen">
                                    @for(subItem of item.submenu; track subItem.name) {
                                        <li>
                                            <a [routerLink]="subItem.url">
                                                <i class="{{ subItem.icon }}"></i>
                                                &nbsp; {{ subItem.name }}
                                            </a>
                                        </li>
                                    }
                                </ul>
                            }
    
                        </li>
                    }
                </ul>
            </nav>
        }
    </div>
</section>